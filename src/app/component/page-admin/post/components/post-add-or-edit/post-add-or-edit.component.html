<h2 mat-dialog-title>{{ postId ? "Cập nhật tin tức" : "Thêm mới tin tức" }}</h2>
<mat-dialog-content class="mat-typography">
  <form action="" [formGroup]="form">
    <div class="row">
      <div class="col-md-4">
        <div class="form-group">
          <label class="form-label">Ảnh bìa</label>
          <div class="box-upload">
            <ng-container *ngIf="imageInfo; else noImage">
              <img [src]="imageInfo" alt="" />
            </ng-container>
            <ng-template #noImage>
              <p class="hint-text">Tải ảnh bìa</p>
            </ng-template>
            <input type="file" hidden #fileInput (change)="uploadAvatar($event)" />
            <button class="btn btn-default" (click)="fileInput.click()" matTooltip="Chọn ảnh">
              <mat-icon>cloud_upload</mat-icon>
            </button>
          </div>
        </div>

        <div class="form-group">
          <label for="">Tiêu đề</label>
          <input type="text" class="form-control" formControlName="title" />
        </div>

        <div class="form-group">
          <label for="">Danh mục</label>
          <select [(ngModel)]="selectedCat" formControlName="category" class="form-control form-select">
            <option [value]="item.id" *ngFor="let item of categoryList">{{item.name}}</option>
          </select>
        </div>

        <div class="card mt-2">
          <div class="card-header">
            <label>
              Thẻ (Tag)
            </label>
          </div>
          <div class="m-2" id="post-tag">
            <div class="d-flex flex-row">
              <input class="form-control " type="text" [(ngModel)]="tagDatas" [ngModelOptions]="{standalone: true}"
                maxlength="45" />
              <button class="btn btn-outline-primary ms-2" (click)="addTag()">Thêm</button>
              <div>
              </div>
            </div>
            <label class="m-2">Phân cách các thẻ bằng dấu phẩy</label>
            <div class="d-flex flex-row flex-wrap">
              <div class="d-flex flex-row flex-wrap" *ngFor="let tag of tagDataArray">
                <div>
                  <span class="btn-label m-2"><i class="fa fa-remove" (click)="removeTag(tag)"></i></span>{{tag.value}}
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="col-md-8">
        <label class="form-label">Nội dung bài viết</label>
        <div class="NgxEditor__Wrapper w-100 ">
<!--          <quill-editor class="w-100"-->
<!--                        [modules]="quillEditorModules"-->
<!--                        [styles]="{height: '60vh', backgroundColor:'#faf8f8'}"-->
<!--                        formControlName="content">-->
<!--          </quill-editor>-->
          <div id="editor" class="w-100"
               formControlName="content"
               style="height: 60vh; backgroundColor: #faf8f8;"
          >
          </div>
        </div>
      </div>
    </div>
  </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <div class="button-group d-flex gap-2">
    <button mat-raised-button color="primary" (click)="onSave()">
      <mat-icon>save</mat-icon>
      Lưu
    </button>

    <button mat-raised-button mat-dialog-close>
      <mat-icon>close</mat-icon>
      Hủy bỏ
    </button>
  </div>
</mat-dialog-actions>
